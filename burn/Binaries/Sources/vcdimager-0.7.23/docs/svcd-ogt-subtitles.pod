=head1 SVCD Subtitle Information - Philips Overlay Graphics Text (OGT)

The following information is culled from information from 
Julio Sanchez Fernandez (L<http://subhandler.sourceforge.net>)
by Rocky Bernstein. 

If you have any corrections or additions to make, please send them
to rocky@panix.com.

SVCD subtitles are transported in private streams with id 0x70. (AC3
use 0,x80+ and CVD subtitles 0+.)

All numbers are in Big Endian and the image is interlaced with a
resolution of 720x480 (NTSC) or 720x576 (PAL).

Data packets start with a 4 byte sequence number (Stream number(1),
Packet number(1*), Subtitle number (2)) (*) this starts at 0, the last
packet of a subtitle has the 7th bit set (the subtitle can be broken
up into several packets when it is multiplexed into the MPEG stream)

=head2 Format of a Subtitle Header

=over 

=item Packet length (2 bytes) 

The assembled subtitle, with stripped sequence numbers

=item Option (1 byte) 

normally set to 0x2e, bit 3 indicates that a field with the
display-time of the subtitle is present.  What the other bits means is
not known.

=item Time to display the sub (4 bytes) 

Units are in 1/90000'ths of a second.  This is only present if bit 3
above is set.

=item X position (2 bytes)

=item Y position (2 bytes)

=item Width (2 bytes)

This should should be an even number.

=item Height (2 bytes)

This should should be an even number.  This only implies i<how long>
the subtitle will be shown, not when. That is given by the PTS in the
PES header.

=item Unknown (1 byte) 

=item 4 Palette Entries (4 x 4 = 16 bytes)

These are formated as Y, U, V, and T (transparancy) each a single
byte. T=0 is fully transparent.

=item Command (1 byte) 

>>6: 1 shift command, (cmd>>4)&3 is the direction (0=top, 1=left, 2 = right, 3 
>>= bottom)

Odd-field data offset (2)

=item image data 

Image data is formatted like this: 2 bit codes are used so 01 means 1
pixel of color 1, 10 means color 2 etc.

=back

Lines are padded to complete bytes, field 0 is padded to an even byte
length and finally subtitles are padded to a multiple of 4 bytes
(always atleast 1 zero byte at the end)

Philips SVCD tools can create SVCD subtitles, but it only works under
NT4, (and not that easy to find anymore. dvd.da.ru, doom9.net or
similar perhaps?), it can create good subtitled SVCDs and just open
them in your favorite hex editor.

The subtitles you get from tools like "I-author" are not real SVCD
subtitles; they are CVD subtitles. See
L<http://www.vcdimager.org/pub/vcdimager/manuals/0.7/cvd-subtitles.html>
for information on CVD subtitles.


I<$Id: svcd-ogt-subtitles.pod,v 1.3 2005/02/23 12:41:57 rocky Exp $>

